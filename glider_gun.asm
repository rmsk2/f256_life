glidergun .namespace

WIDTH = 60
HEIGHT = 27

DATA
.text "000000000000000000000000000000000000000000000000000000000000"
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000100000000000000000000000000000" 
.text "000000000000000000000000000111100000000000000000000000000000" 
.text "000000000000000000100000001111000000000110000000000000000000" 
.text "000000000000000001010000001001000000000110000000000000000000" 
.text "000001100000000010001100001111000001000000000000000000000000" 
.text "000001100000000010001100000111100001000000000000000000000000" 
.text "000000000000000010001100000000100000000000000000000000000000" 
.text "000000000000000001010000000000000000000000000000000000000000" 
.text "000000000000000000100000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000000000000000000000" 
.text "000000000000000000000000000000000000000000010000100000000000" 
.text "000000000000000000000000000000000000000001101111011000000000" 
.text "000000000000000000000000000000000000000000010000100000000000" 

TXT_GUN .text "Start configuration: Gosper's glider gun"

printMessage
    #printString TXT_GUN, len(TXT_GUN)
    rts

init
    jsr world.init
    #load16BitImmediate DATA, DEMO_PTR
    ldx #0
    ldy #0
_loop
    lda (DEMO_PTR)
    cmp #$31
    bne _next
    stx world.COORD.x
    sty world.COORD.y
    jsr world.setCell
_next
    #inc16Bit DEMO_PTR
    inx 
    cpx #WIDTH
    bne _loop
    ldx #0
    iny 
    cpy #HEIGHT
    bne _loop
    rts

.endnamespace